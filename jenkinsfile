pipeline {  
     agent any  
 environment {
       GIT_Hub = credentials('git')
      }
     stages {  
         stage('git check out') {  
             steps {  
                 git branch: 'tf', credentialsId: 'git',  url: 'https://github.com/ATJP88/tf.git'
                 }
                 }
         stage('terraform init') {  
             steps {                  
                sh 'terraform init'
         }  
     }  
     stage('terraform plan') {  
             steps {                  
                sh 'terraform plan -var-file=stage.tfvars'
         }  
     }  
          stage('terraform apply') {  
             steps {                  
                sh 'terraform apply -var-file=stage.tfvars -auto-approve'
         }  
     }   
 }
}
